2025-10-19 10:53:12.876 +05:30 [INF] No migrations were found in assembly 'MaintenanceScheduler.Infrastructure'. A migration needs to be added before the database can be updated.
2025-10-19 10:53:19.608 +05:30 [INF] Executed DbCommand (703ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-19 10:53:19.659 +05:30 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-10-19 10:53:24.379 +05:30 [INF] Executed DbCommand (4,570ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-10-19 10:53:26.089 +05:30 [INF] Executed DbCommand (321ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-10-19 10:53:26.164 +05:30 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-10-19 10:53:26.178 +05:30 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-10-19 10:53:27.687 +05:30 [INF] Executed DbCommand (1,434ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-10-19 10:53:27.700 +05:30 [INF] No migrations were applied. The database is already up to date.
2025-10-19 10:53:28.030 +05:30 [INF] Executed DbCommand (328ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-10-19 10:53:28.037 +05:30 [INF] Database migration completed successfully
2025-10-19 10:53:28.070 +05:30 [INF] Starting Maintenance Scheduler API
2025-10-19 10:53:28.762 +05:30 [INF] Now listening on: https://localhost:7205
2025-10-19 10:53:28.764 +05:30 [INF] Now listening on: http://localhost:5195
2025-10-19 10:53:28.844 +05:30 [INF] Application started. Press Ctrl+C to shut down.
2025-10-19 10:53:28.845 +05:30 [INF] Hosting environment: Development
2025-10-19 10:53:28.848 +05:30 [INF] Content root path: D:\WSO2 Project\Asset-Registry-and-Tracking-System-\src\Services\MaintenanceScheduler\MaintenanceScheduler.Api
2025-10-19 10:55:13.877 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7205/_vs/browserLink - null null
2025-10-19 10:55:13.878 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7205/_framework/aspnetcore-browser-refresh.js - null null
2025-10-19 10:55:13.993 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7205/_framework/aspnetcore-browser-refresh.js - 200 16533 application/javascript; charset=utf-8 124.9104ms
2025-10-19 10:55:14.575 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7205/_vs/browserLink - 200 null text/javascript; charset=UTF-8 709.4967ms
2025-10-19 10:55:14.653 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7205/swagger/v1/swagger.json - null null
2025-10-19 10:55:14.733 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7205/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 80.9207ms
2025-10-19 10:55:30.969 +05:30 [INF] Request starting HTTP/2 GET https://localhost:7205/api/WarrantyInfo/active - null null
2025-10-19 10:55:31.023 +05:30 [INF] Executing endpoint 'MaintenanceScheduler.Api.Controllers.WarrantyInfoController.GetActiveWarranties (MaintenanceScheduler.Api)'
2025-10-19 10:55:31.050 +05:30 [INF] Route matched with {action = "GetActiveWarranties", controller = "WarrantyInfo"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetActiveWarranties() on controller MaintenanceScheduler.Api.Controllers.WarrantyInfoController (MaintenanceScheduler.Api).
2025-10-19 10:55:34.574 +05:30 [INF] Executed DbCommand (1,854ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [w].[Id], [w].[AssetId], [w].[AssetName], [w].[ContactEmail], [w].[ContactPerson], [w].[ContactPhone], [w].[CoverageDetails], [w].[CreatedAt], [w].[CreatedBy], [w].[ExpiryDate], [w].[IsActive], [w].[LastNotificationDate], [w].[NotificationSent], [w].[StartDate], [w].[UpdatedAt], [w].[UpdatedBy], [w].[WarrantyCost], [w].[WarrantyProvider], [w].[WarrantyType]
FROM [WarrantyInfos] AS [w]
WHERE [w].[IsActive] = CAST(1 AS bit) AND [w].[ExpiryDate] >= GETUTCDATE()
ORDER BY [w].[ExpiryDate]
2025-10-19 10:55:34.972 +05:30 [INF] Executing OkObjectResult, writing value of type 'MaintenanceScheduler.Application.DTOs.ApiResponse`1[[System.Collections.Generic.IEnumerable`1[[MaintenanceScheduler.Application.DTOs.WarrantyInfoDto, MaintenanceScheduler.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]], System.Private.CoreLib, Version=9.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-10-19 10:55:35.026 +05:30 [INF] Executed action MaintenanceScheduler.Api.Controllers.WarrantyInfoController.GetActiveWarranties (MaintenanceScheduler.Api) in 3963.4914ms
2025-10-19 10:55:35.035 +05:30 [INF] Executed endpoint 'MaintenanceScheduler.Api.Controllers.WarrantyInfoController.GetActiveWarranties (MaintenanceScheduler.Api)'
2025-10-19 10:55:35.043 +05:30 [INF] Request finished HTTP/2 GET https://localhost:7205/api/WarrantyInfo/active - 200 null application/json; charset=utf-8 4074.7935ms
